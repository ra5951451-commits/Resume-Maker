<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Resume — {{ e(data.name) if data.name else 'Your Name' }}</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="{{ url_for('static', filename='css/template3.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=Open+Sans:300,400,600&display=swap" rel="stylesheet">
</head>
<body>

<!-- Template Switch -->
<div class="template-scroll">
  <div class="template-track" id="track">

    <!-- SET 1 -->
    <a href="{{ url_for('template1') }}"><div class="template-thumb t1"></div></a>
    <a href="{{ url_for('template2') }}"><div class="template-thumb t2"></div></a>
    <a href="{{ url_for('template4') }}"><div class="template-thumb t4"></div></a>
    <a href="{{ url_for('template5') }}"><div class="template-thumb t5"></div></a>
    <a href="{{ url_for('template6') }}"><div class="template-thumb t6"></div></a>
    <a href="{{ url_for('template7') }}"><div class="template-thumb t7"></div></a>
    <a href="{{ url_for('template8') }}"><div class="template-thumb t8"></div></a>

    <!-- DUPLICATE SET (required) -->
    <a href="{{ url_for('template1') }}"><div class="template-thumb t1"></div></a>
    <a href="{{ url_for('template2') }}"><div class="template-thumb t2"></div></a>
    <a href="{{ url_for('template4') }}"><div class="template-thumb t4"></div></a>
    <a href="{{ url_for('template5') }}"><div class="template-thumb t5"></div></a>
    <a href="{{ url_for('template6') }}"><div class="template-thumb t6"></div></a>
    <a href="{{ url_for('template7') }}"><div class="template-thumb t7"></div></a>
    <a href="{{ url_for('template8') }}"><div class="template-thumb t8"></div></a>

  </div>
</div>

</div>
<script>
  const track = document.getElementById('track');
  let y = 0;
  let speed = 0.4; // auto scroll speed
  let manualBoost = 0;

  function animate() {
    y -= speed + manualBoost;

    // infinite reset
    if (Math.abs(y) >= track.scrollHeight / 2) {
      y = 0;
    }

    track.style.transform = `translateY(${y}px)`;

    // slowly return to auto speed
    manualBoost *= 0.9;

    requestAnimationFrame(animate);
  }

  animate();

  // Mouse wheel control
  document.querySelector('.template-scroll').addEventListener('wheel', e => {
    e.preventDefault();
    manualBoost = e.deltaY * 0.08;
  }, { passive: false });
</script>


<div class="wrap">

    <header class="banner">
        {% if data.photo %}
        <img src="{{ data.photo }}" alt="Photo" class="photo">
        {% else %}
        <div class="placeholder-photo">{{ e(initials) }}</div>
        {% endif %}
        <div class="name-block">
            <h1 class="name">{{ e(data.name) if data.name else 'Your Name' }}</h1>
            <div class="title">{{ e(data.title) if data.title else 'Job Title' }}</div>
        </div>
    </header>
    
    <div class="content">
        
        <aside class="left">
            <div class="section contact">
                <div class="sec-title">CONTACT</div>
                {% if data.email %}<p>Email: {{ render_inline(data.email) }}</p>{% endif %}
                {% if data.phone %}<p>Phone: {{ render_inline(data.phone) }}</p>{% endif %}
                {% if data.address %}<p>Address: {{ render_html(data.address) }}</p>{% endif %}
            </div>
            
            {% if data.skills %}
            <div class="section">
                <div class="sec-title">SKILLS</div>
                <ul class="skill-list">
                    {% for skill in data.skills %}<li>{{ e(skill) }}</li>{% endfor %}
                </ul>
            </div>
            {% endif %}
            
            {% if data.languages %}
            <div class="section">
                <div class="sec-title">LANGUAGES</div>
                <ul class="lang-list">
                    {% for lang in data.languages %}<li>{{ e(lang) }}</li>{% endfor %}
                </ul>
            </div>
            {% endif %}
            
        </aside>
        
        <section class="right">
            
            {% if data.summary %}
            <div class="section summary">
                <div class="sec-title">SUMMARY / PROFILE / ABOUT ME</div>
                <div>{{ render_html(data.summary) }}</div> 
            </div>
            {% endif %}

            {% if data.education %}
            <div class="section education">
                <div class="sec-title">EDUCATION</div>
                {% for edu in data.education %}
                <div class="edu-item">
                    {% if edu.degree or edu.year %}
                    <div class="edu-title">
                        {{ e(edu.degree) if edu.degree else '' }}
                        {% if edu.year %} — {{ e(edu.year) }}{% endif %}
                    </div>
                    {% endif %}
                    {% if edu.university %}<div class="school">{{ e(edu.university) }}</div>{% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}
            
            {% if data.experience %}
            <div class="section experience">
                <div class="sec-title">EXPERIENCE / WORK HISTORY</div>
                {% for exp in data.experience %}
                <article class="exp-item">
                    {% if exp.title or exp.duration %}
                    <div class="exp-title">
                        {{ e(exp.title) if exp.title else '' }}
                        {% if exp.duration %} — {{ e(exp.duration) }}{% endif %}
                    </div>
                    {% endif %}
                    {% if exp.company %}<div class="exp-company">{{ e(exp.company) }}</div>{% endif %}
                    {% if exp.description %}<div class="exp-body">{{ render_html(exp.description) }}</div>{% endif %}
                </article>
                {% endfor %}
            </div>
            {% endif %}
            
        </section>
        
    </div>
</div>

<!-- Download PDF Button -->
<button onclick="window.print()" class="btn"></button>
</body>
</html>
