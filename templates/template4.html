<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>{{ e(data.name) if data.name else 'Your Name' }} â€” Resume</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/template4.css') }}">
</head>
<body>

<!-- Template Switch -->
<div class="template-scroll">
  <div class="template-track" id="track">

    <!-- SET 1 -->
    <a href="{{ url_for('template1') }}"><div class="template-thumb t1"></div></a>
    <a href="{{ url_for('template2') }}"><div class="template-thumb t2"></div></a>
    <a href="{{ url_for('template3') }}"><div class="template-thumb t3"></div></a>
    <a href="{{ url_for('template5') }}"><div class="template-thumb t5"></div></a>
    <a href="{{ url_for('template6') }}"><div class="template-thumb t6"></div></a>
    <a href="{{ url_for('template7') }}"><div class="template-thumb t7"></div></a>
    <a href="{{ url_for('template8') }}"><div class="template-thumb t8"></div></a>

    <!-- DUPLICATE SET (required) -->
    <a href="{{ url_for('template1') }}"><div class="template-thumb t1"></div></a>
    <a href="{{ url_for('template2') }}"><div class="template-thumb t2"></div></a>
    <a href="{{ url_for('template3') }}"><div class="template-thumb t3"></div></a>
    <a href="{{ url_for('template5') }}"><div class="template-thumb t5"></div></a>
    <a href="{{ url_for('template6') }}"><div class="template-thumb t6"></div></a>
    <a href="{{ url_for('template7') }}"><div class="template-thumb t7"></div></a>
    <a href="{{ url_for('template8') }}"><div class="template-thumb t8"></div></a>

  </div>
</div>

</div>
<script>
  const track = document.getElementById('track');
  let y = 0;
  let speed = 0.4; // auto scroll speed
  let manualBoost = 0;

  function animate() {
    y -= speed + manualBoost;

    // infinite reset
    if (Math.abs(y) >= track.scrollHeight / 2) {
      y = 0;
    }

    track.style.transform = `translateY(${y}px)`;

    // slowly return to auto speed
    manualBoost *= 0.9;

    requestAnimationFrame(animate);
  }

  animate();

  // Mouse wheel control
  document.querySelector('.template-scroll').addEventListener('wheel', e => {
    e.preventDefault();
    manualBoost = e.deltaY * 0.08;
  }, { passive: false });
</script>


<div class="page-wrap">
    <article class="container" role="document" aria-label="Resume">

  <!-- HEADER -->
  <header class="header-ref">
    <div class="header-text">
      <h1>
        {{ e(data.name) if data.name else 'NAME SURNAME' }}
      </h1>

      <h2 class="job-title">
        {{ e(data.title) if data.title else 'Financial Analyst' }}
      </h2>

      {% if data.summary %}
      <p class="summary">
        {{ render_html(data.summary) }}
      </p>
      {% endif %}

      <div class="contact-row">
        {% if data.email %}<span>{{ e(data.email) }}</span>{% endif %}
        {% if data.address %}<span>{{ render_html(data.address) }}</span>{% endif %}
        {% if data.phone %}<span>{{ e(data.phone) }}</span>{% endif %}
      </div>
    </div>

    <div class="header-photo">
      {% if data.photo %}
        <img src="{{ data.photo }}" alt="Profile photo">
      {% else %}
        <div class="photo-placeholder">{{ initials | e }}</div>
      {% endif %}
    </div>
  </header>

  <hr class="top-divider">

  <!-- LANGUAGES -->
  {% if data.languages %}
  <section class="block">
    <div class="label">LANGUAGES</div>

    {% for lang in data.languages %}
    <div class="lang-row">
      <span>{{ lang.name if lang.name else lang }}</span>
      <div class="bar">
        <i style="width: {{ lang.level if lang.level else 70 }}%"></i>
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  <!-- EDUCATION -->
  {% if data.education %}
  <section class="block">
    <div class="label">EDUCATION</div>

    {% for edu in data.education %}
    <div class="two-col">
      <div class="date-col">
        {{ e(edu.year) }}<br>
        {{ e(edu.location) if edu.location }}
      </div>
      <div>
        <strong>{{ e(edu.degree) }}</strong><br>
        {{ e(edu.university) }}
      </div>
    </div>
    {% endfor %}
  </section>
  {% endif %}

  <!-- SKILLS -->
  {% if data.skills %}
  <section class="block">
    <div class="label">SKILLS</div>
    <p>{{ data.skills | join(', ') }}</p>
  </section>
  {% endif %}

  <!-- EXPERIENCE -->
  {% if data.experience %}
  <section class="block">
    <div class="label">PROFESSIONAL EXPERIENCE</div>

    {% for job in data.experience %}
    <div class="job-block">
      <div class="two-col">
        <div class="date-col">
          {{ e(job.duration) }}<br>
          {{ e(job.location) if job.location }}
        </div>
        <div>
          <strong>{{ e(job.company) }}</strong><br>
          <em>{{ e(job.title) }}</em>
        </div>
      </div>

      {% if job.description %}
      <ul>
        {{ render_html(job.description) }}
      </ul>
      {% endif %}
    </div>
    {% endfor %}
  </section>
  {% endif %}

</article>

</div>

<!-- Download PDF Button -->
<button onclick="window.print()" class="btn"></button>
</body>
</html>
